{% extends "base.html" %}

{% block title %}AetherGuard - Access Terminal{% endblock %}

{% block content %}
<section class="min-h-screen flex items-center justify-center bg-black relative overflow-hidden">
    <!-- Animated neon background -->
    <div class="absolute inset-0">
        <div class="absolute w-[600px] h-[600px] bg-cyan-500/20 rounded-full blur-3xl top-[-200px] left-[-200px] animate-pulse"></div>
        <div class="absolute w-[500px] h-[500px] bg-purple-500/20 rounded-full blur-3xl bottom-[-200px] right-[-200px] animate-pulse"></div>
    </div>

    <!-- Terminal Login/Register Card -->
    <div class="relative z-10 w-full max-w-md neon-border p-8 bg-gray-900/80 rounded-2xl shadow-2xl">
        <h1 class="text-3xl font-orbitron text-cyan-400 text-center mb-6">AetherGuard Access</h1>

        <!-- Toggle Tabs -->
        <div class="flex justify-center mb-6">
            <button id="loginTab" class="tab-btn active">Login</button>
            <button id="registerTab" class="tab-btn">Register</button>
        </div>

        <!-- Login Form -->
        <form id="loginForm" method="POST" action="{{ url_for('auth.login') }}" class="space-y-4">
            <input type="email" name="email" placeholder="Email" required class="input-field">
            <input type="password" name="password" placeholder="Password" required class="input-field">

            <button type="submit" class="btn-primary w-full">Login</button>

            <div class="flex items-center justify-center my-4">
                <span class="text-gray-400 text-sm">or continue with</span>
            </div>

            <div class="flex gap-4">
                <a href="{{ url_for('auth.google_login') }}" class="btn-oauth google">
                    <i class="fab fa-google mr-2"></i> Google
                </a>
                <a href="{{ url_for('auth.github_login') }}" class="btn-oauth github">
                    <i class="fab fa-github mr-2"></i> GitHub
                </a>
            </div>
        </form>

        <!-- Register Form -->
        <form id="registerForm" method="POST" action="{{ url_for('auth.register') }}" class="space-y-4 hidden">
            <input type="text" name="username" placeholder="Username" required class="input-field">
            <input type="email" name="email" placeholder="Email" required class="input-field">
            <input type="password" name="password" placeholder="Password" required class="input-field">

            <button type="submit" class="btn-primary w-full">Register</button>

            <div class="flex items-center justify-center my-4">
                <span class="text-gray-400 text-sm">or sign up with</span>
            </div>

            <div class="flex gap-4">
                <a href="{{ url_for('auth.google_login') }}" class="btn-oauth google">
                    <i class="fab fa-google mr-2"></i> Google
                </a>
                <a href="{{ url_for('auth.github_login') }}" class="btn-oauth github">
                    <i class="fab fa-github mr-2"></i> GitHub
                </a>
            </div>
        </form>
    </div>
</section>

<!-- Custom CSS -->
<style>
    .font-orbitron { font-family: 'Orbitron', sans-serif; }
    .neon-border { border: 2px solid rgba(0, 255, 255, 0.4); box-shadow: 0 0 20px rgba(0, 255, 255, 0.6); }
    .input-field { width: 100%; padding: 12px; background: #111; border: 1px solid #00ffff55; border-radius: 8px; color: #fff; }
    .input-field:focus { outline: none; border-color: #0ff; box-shadow: 0 0 8px #0ff; }
    .btn-primary { background: linear-gradient(90deg, #06b6d4, #3b82f6); padding: 12px; border-radius: 8px; font-weight: bold; color: white; transition: all 0.3s; }
    .btn-primary:hover { box-shadow: 0 0 15px #0ff; transform: scale(1.05); }
    .btn-oauth { flex: 1; text-align: center; padding: 10px; border-radius: 8px; font-weight: bold; transition: all 0.3s; }
    .btn-oauth.google { background: #db4437; color: white; }
    .btn-oauth.github { background: #333; color: white; }
    .btn-oauth:hover { transform: scale(1.05); opacity: 0.9; }
    .tab-btn { flex: 1; padding: 10px; font-weight: bold; background: transparent; border: none; cursor: pointer; color: #aaa; }
    .tab-btn.active { color: #0ff; border-bottom: 2px solid #0ff; }
</style>

<!-- Tab Toggle Script -->
<script>
    const loginTab = document.getElementById("loginTab");
    const registerTab = document.getElementById("registerTab");
    const loginForm = document.getElementById("loginForm");
    const registerForm = document.getElementById("registerForm");

    loginTab.addEventListener("click", () => {
        loginTab.classList.add("active");
        registerTab.classList.remove("active");
        loginForm.classList.remove("hidden");
        registerForm.classList.add("hidden");
    });

    registerTab.addEventListener("click", () => {
        registerTab.classList.add("active");
        loginTab.classList.remove("active");
        registerForm.classList.remove("hidden");
        loginForm.classList.add("hidden");
    });
</script>
{% endblock %}
